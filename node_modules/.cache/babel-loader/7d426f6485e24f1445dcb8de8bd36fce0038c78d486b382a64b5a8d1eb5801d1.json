{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.tab = tab;\nvar _dom = require(\"@testing-library/dom\");\nvar _utils = require(\"./utils\");\nvar _focus = require(\"./focus\");\nvar _blur = require(\"./blur\");\nfunction getNextElement(currentIndex, shift, elements, focusTrap) {\n  if (focusTrap === document && currentIndex === 0 && shift) {\n    return document.body;\n  } else if (focusTrap === document && currentIndex === elements.length - 1 && !shift) {\n    return document.body;\n  } else {\n    const nextIndex = shift ? currentIndex - 1 : currentIndex + 1;\n    const defaultIndex = shift ? elements.length - 1 : 0;\n    return elements[nextIndex] || elements[defaultIndex];\n  }\n}\nfunction tab() {\n  let {\n    shift = false,\n    focusTrap\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _focusTrap$ownerDocum, _focusTrap;\n  const previousElement = (0, _utils.getActiveElement)((_focusTrap$ownerDocum = (_focusTrap = focusTrap) == null ? void 0 : _focusTrap.ownerDocument) != null ? _focusTrap$ownerDocum : document);\n  if (!focusTrap) {\n    focusTrap = document;\n  }\n  const focusableElements = focusTrap.querySelectorAll(_utils.FOCUSABLE_SELECTOR);\n  const enabledElements = [...focusableElements].filter(el => el === previousElement || el.getAttribute('tabindex') !== '-1' && !el.disabled &&\n  // Hidden elements are not tabable\n  (0, _utils.isVisible)(el));\n  if (enabledElements.length === 0) return;\n  const orderedElements = enabledElements.map((el, idx) => ({\n    el,\n    idx\n  })).sort((a, b) => {\n    // tabindex has no effect if the active element has tabindex=\"-1\"\n    if (previousElement && previousElement.getAttribute('tabindex') === '-1') {\n      return a.idx - b.idx;\n    }\n    const tabIndexA = a.el.getAttribute('tabindex');\n    const tabIndexB = b.el.getAttribute('tabindex');\n    const diff = tabIndexA - tabIndexB;\n    return diff === 0 ? a.idx - b.idx : diff;\n  }).map(_ref => {\n    let {\n      el\n    } = _ref;\n    return el;\n  });\n  const checkedRadio = {};\n  let prunedElements = [];\n  orderedElements.forEach(el => {\n    // For radio groups keep only the active radio\n    // If there is no active radio, keep only the checked radio\n    // If there is no checked radio, treat like everything else\n    if (el.type === 'radio' && el.name) {\n      // If the active element is part of the group, add only that\n      if (previousElement && previousElement.type === el.type && previousElement.name === el.name) {\n        if (el === previousElement) {\n          prunedElements.push(el);\n        }\n        return;\n      } // If we stumble upon a checked radio, remove the others\n\n      if (el.checked) {\n        prunedElements = prunedElements.filter(e => e.type !== el.type || e.name !== el.name);\n        prunedElements.push(el);\n        checkedRadio[el.name] = el;\n        return;\n      } // If we already found the checked one, skip\n\n      if (checkedRadio[el.name]) {\n        return;\n      }\n    }\n    prunedElements.push(el);\n  });\n  const index = prunedElements.findIndex(el => el === previousElement);\n  const nextElement = getNextElement(index, shift, prunedElements, focusTrap);\n  const shiftKeyInit = {\n    key: 'Shift',\n    keyCode: 16,\n    shiftKey: true\n  };\n  const tabKeyInit = {\n    key: 'Tab',\n    keyCode: 9,\n    shiftKey: shift\n  };\n  let continueToTab = true; // not sure how to make it so there's no previous element...\n  // istanbul ignore else\n\n  if (previousElement) {\n    // preventDefault on the shift key makes no difference\n    if (shift) _dom.fireEvent.keyDown(previousElement, {\n      ...shiftKeyInit\n    });\n    continueToTab = _dom.fireEvent.keyDown(previousElement, {\n      ...tabKeyInit\n    });\n  }\n  const keyUpTarget = !continueToTab && previousElement ? previousElement : nextElement;\n  if (continueToTab) {\n    if (nextElement === document.body) {\n      (0, _blur.blur)(previousElement);\n    } else {\n      (0, _focus.focus)(nextElement);\n    }\n  }\n  _dom.fireEvent.keyUp(keyUpTarget, {\n    ...tabKeyInit\n  });\n  if (shift) {\n    _dom.fireEvent.keyUp(keyUpTarget, {\n      ...shiftKeyInit,\n      shiftKey: false\n    });\n  }\n}\n/*\neslint\n  complexity: \"off\",\n  max-statements: \"off\",\n*/","map":{"version":3,"names":["Object","defineProperty","exports","value","tab","_dom","require","_utils","_focus","_blur","getNextElement","currentIndex","shift","elements","focusTrap","document","body","length","nextIndex","defaultIndex","_focusTrap$ownerDocum","_focusTrap","previousElement","getActiveElement","ownerDocument","focusableElements","querySelectorAll","FOCUSABLE_SELECTOR","enabledElements","filter","el","getAttribute","disabled","isVisible","orderedElements","map","idx","sort","a","b","tabIndexA","tabIndexB","diff","checkedRadio","prunedElements","forEach","type","name","push","checked","e","index","findIndex","nextElement","shiftKeyInit","key","keyCode","shiftKey","tabKeyInit","continueToTab","fireEvent","keyDown","keyUpTarget","blur","focus","keyUp"],"sources":["/Users/dev/Downloads/01-starting-project 2/node_modules/@testing-library/user-event/dist/tab.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.tab = tab;\n\nvar _dom = require(\"@testing-library/dom\");\n\nvar _utils = require(\"./utils\");\n\nvar _focus = require(\"./focus\");\n\nvar _blur = require(\"./blur\");\n\nfunction getNextElement(currentIndex, shift, elements, focusTrap) {\n  if (focusTrap === document && currentIndex === 0 && shift) {\n    return document.body;\n  } else if (focusTrap === document && currentIndex === elements.length - 1 && !shift) {\n    return document.body;\n  } else {\n    const nextIndex = shift ? currentIndex - 1 : currentIndex + 1;\n    const defaultIndex = shift ? elements.length - 1 : 0;\n    return elements[nextIndex] || elements[defaultIndex];\n  }\n}\n\nfunction tab({\n  shift = false,\n  focusTrap\n} = {}) {\n  var _focusTrap$ownerDocum, _focusTrap;\n\n  const previousElement = (0, _utils.getActiveElement)((_focusTrap$ownerDocum = (_focusTrap = focusTrap) == null ? void 0 : _focusTrap.ownerDocument) != null ? _focusTrap$ownerDocum : document);\n\n  if (!focusTrap) {\n    focusTrap = document;\n  }\n\n  const focusableElements = focusTrap.querySelectorAll(_utils.FOCUSABLE_SELECTOR);\n  const enabledElements = [...focusableElements].filter(el => el === previousElement || el.getAttribute('tabindex') !== '-1' && !el.disabled && // Hidden elements are not tabable\n  (0, _utils.isVisible)(el));\n  if (enabledElements.length === 0) return;\n  const orderedElements = enabledElements.map((el, idx) => ({\n    el,\n    idx\n  })).sort((a, b) => {\n    // tabindex has no effect if the active element has tabindex=\"-1\"\n    if (previousElement && previousElement.getAttribute('tabindex') === '-1') {\n      return a.idx - b.idx;\n    }\n\n    const tabIndexA = a.el.getAttribute('tabindex');\n    const tabIndexB = b.el.getAttribute('tabindex');\n    const diff = tabIndexA - tabIndexB;\n    return diff === 0 ? a.idx - b.idx : diff;\n  }).map(({\n    el\n  }) => el);\n  const checkedRadio = {};\n  let prunedElements = [];\n  orderedElements.forEach(el => {\n    // For radio groups keep only the active radio\n    // If there is no active radio, keep only the checked radio\n    // If there is no checked radio, treat like everything else\n    if (el.type === 'radio' && el.name) {\n      // If the active element is part of the group, add only that\n      if (previousElement && previousElement.type === el.type && previousElement.name === el.name) {\n        if (el === previousElement) {\n          prunedElements.push(el);\n        }\n\n        return;\n      } // If we stumble upon a checked radio, remove the others\n\n\n      if (el.checked) {\n        prunedElements = prunedElements.filter(e => e.type !== el.type || e.name !== el.name);\n        prunedElements.push(el);\n        checkedRadio[el.name] = el;\n        return;\n      } // If we already found the checked one, skip\n\n\n      if (checkedRadio[el.name]) {\n        return;\n      }\n    }\n\n    prunedElements.push(el);\n  });\n  const index = prunedElements.findIndex(el => el === previousElement);\n  const nextElement = getNextElement(index, shift, prunedElements, focusTrap);\n  const shiftKeyInit = {\n    key: 'Shift',\n    keyCode: 16,\n    shiftKey: true\n  };\n  const tabKeyInit = {\n    key: 'Tab',\n    keyCode: 9,\n    shiftKey: shift\n  };\n  let continueToTab = true; // not sure how to make it so there's no previous element...\n  // istanbul ignore else\n\n  if (previousElement) {\n    // preventDefault on the shift key makes no difference\n    if (shift) _dom.fireEvent.keyDown(previousElement, { ...shiftKeyInit\n    });\n    continueToTab = _dom.fireEvent.keyDown(previousElement, { ...tabKeyInit\n    });\n  }\n\n  const keyUpTarget = !continueToTab && previousElement ? previousElement : nextElement;\n\n  if (continueToTab) {\n    if (nextElement === document.body) {\n      (0, _blur.blur)(previousElement);\n    } else {\n      (0, _focus.focus)(nextElement);\n    }\n  }\n\n  _dom.fireEvent.keyUp(keyUpTarget, { ...tabKeyInit\n  });\n\n  if (shift) {\n    _dom.fireEvent.keyUp(keyUpTarget, { ...shiftKeyInit,\n      shiftKey: false\n    });\n  }\n}\n/*\neslint\n  complexity: \"off\",\n  max-statements: \"off\",\n*/"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}